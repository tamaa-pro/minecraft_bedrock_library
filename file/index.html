<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>صفحة التحميل</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
body{margin:0;background:#000;font-family:"Tajawal",sans-serif;user-select:none;touch-action:none}
.container{max-width:400px;margin:15px auto;background:#333;padding:10px;border-radius:8px}
.icon-box{display:flex;justify-content:center;margin-top:5px}
.icon-box img{width:100px;height:100px;border-radius:5px}
.info-box{background:#222;border-radius:8px;padding:10px;margin:10px 0}
#downloadBtn{display:block;width: auto;padding:12px;background:#00FF00;color:#000;text-align:center;font-weight:bold;border-radius:8px;text-decoration:none;font-size:14px;transition:.2s}
#downloadBtn.disabled{background:#555;color:#222;pointer-events:none}
#downloadBtn.error{background:#8B0000;color:#fff;pointer-events:none}
.loading-circle{width:14px;height:14px;border:2px solid #000;border-top:2px solid lime;border-radius:50%;animation:spin 1s linear infinite;display:inline-block}
@keyframes spin{to{transform:rotate(360deg)}}
#downloadSuggestion{position:fixed;top:0;left:0;right:0;background:#222;color:#ccc;font-size:11px;text-align:center;padding:10px;border-bottom:1px solid #444;z-index:1000;display:none}
.bottom-notes{position:fixed;bottom:0;left:0;right:0;background:#111;color:#ccc;padding:10px;font-size:9px;line-height:1.6;border-top:1px solid #333;z-index:999}
.toggle-btn{position:fixed;padding:3px 6px;background:#333;color:#ccc;font-size:10px;border:none;z-index:2000}
#toggleSuggestionBtn{right:0;top:0}
#toggleNotesBtn{right:0;bottom:0}
</style>
</head>
<body>
<div id="downloadSuggestion">
إذا كنت من المتصفح ولا تملك التطبيق ننصحك باستخدام مكتبة الإصدارات
<a href="https://tamaa-pro.github.io/minecraft_bedrock_library/" style="padding:2px 8px;background:#0a0;color:#fff;border-radius:4px;text-decoration:none;margin-right:5px">فتح التطبيق</a>
</div>
<button id="toggleSuggestionBtn" class="toggle-btn"><i class="fas fa-chevron-down"></i></button>
<button id="toggleNotesBtn" class="toggle-btn"><i class="fas fa-chevron-up"></i></button>
<div class="container">
<div class="icon-box"><img src="https://d.top4top.io/p_3585efanh1.jpg"></div>
<div class="info-box" id="infoBox">
<div id="fileName" style="color:#fff;font-size:14px;margin-bottom:6px">جاري استخراج اسم الملف...</div>
<div id="fileSize" style="color:#ccc;font-size:12px">جاري حساب حجم الملف...</div>
</div>
<a id="downloadBtn" href="#">تحميل الملف</a>
<div id="tryAnywayLink" style="display:none;text-align:center;margin-top:8px">
<a href="#" style="color:#ccc;font-size:12px;text-decoration:underline">تجربة الرابط على أي حال؟</a>
</div>
</div>
<div class="bottom-notes" id="notesBox">
<b>
● ظهور خطأ 404 يعني أن الملف غير منشور بعد أو أن رابط التحميل خاطئ.<br>
● إذا لم يستجب زر التحميل فحدّث الصفحة أو تأكد من الشبكة.<br>
● إذا ظهر أن الرابط غير صالح فهذا يعني عدم وجود رابط ملف.<br>
● الانقطاع المتكرر في التحميل قد يؤدي لتلف الملف.<br>
● إذا كان لديك إصدار مثبت مسبقاً فاحذفه قبل تثبيت النسخة الجديدة.
</b>
</div>
<script>
const btn=document.getElementById("downloadBtn");
const fileNameBox=document.getElementById("fileName");
const fileSizeBox=document.getElementById("fileSize");
let raw=url=location.search.replace("?","");
if(!raw||!raw.startsWith("http")){
btn.classList.add("disabled");
fileNameBox.textContent="⚠️ رابط غير صالح";
fileSizeBox.textContent="—";
}else{
if(raw.endsWith("/"))raw=raw.slice(0,-1);
const fileUrl=raw;
fileNameBox.textContent=fileUrl.split("/").pop();
async function checkExists(u){try{let r=await fetch("https://corsproxy.io/?"+encodeURIComponent(u),{method:"HEAD"});return r;}catch{return null;}}
checkExists(fileUrl).then(async r=>{
if(!r||!r.ok){btn.classList.add("error");btn.textContent="الملف غير متاح";fileSizeBox.textContent="⚠️ الملف غير موجود";return;}
let size=r.headers.get("content-length");
fileSizeBox.textContent=size? (Math.round(size/1024/1024*10)/10)+" MB" : "غير متوفر";
btn.onclick=e=>{e.preventDefault();btn.innerHTML='<span class="loading-circle"></span> جاري التحميل';btn.style.background="#0c0";setTimeout(()=>location.href=fileUrl,400);};
});
const tryLink=document.getElementById("tryAnywayLink");
tryLink.querySelector("a").onclick=e=>{e.preventDefault();tryLink.innerHTML='<span class="loading-circle"></span> جارٍ الفتح...';setTimeout(()=>location.href=fileUrl,400);} 
tryLink.style.display="block";
}
const sug=document.getElementById("downloadSuggestion"),notes=document.getElementById("notesBox");
document.getElementById("toggleSuggestionBtn").onclick=()=>{sug.style.display=sug.style.display==="none"?"block":"none"};
document.getElementById("toggleNotesBtn").onclick=()=>{notes.style.display=notes.style.display==="none"?"block":"none"};
setTimeout(()=>sug.style.display="none",6000);
setTimeout(()=>notes.style.display="none",6000);
</script>
</body>
</html>
