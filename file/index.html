<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ØµÙØ­Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
  /* Ù‚ÙˆØ§Ø¹Ø¯ Ø¹Ø§Ù…Ø© */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:#000;font-family:"Tajawal",sans-serif;user-select:none;touch-action:none}
  /* Ø¶Ø¹ Ø§Ù„Ø­Ø§ÙˆÙŠØ© ÙÙŠ Ù…Ù†ØªØµÙ Ø§Ù„ØµÙØ­Ø© Ù…Ø¹ Ø­Ø´Ùˆ Ø¬Ø§Ù†Ø¨ÙŠ 15px */
  body{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:15px}
  /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
  .container{
    width:100%;
    max-width:400px;
    background:#333;
    padding:10px;
    border-radius:8px;
    /* Ù„Ø§ Ø¸Ù„Ø§Ù„ ÙˆÙ„Ø§ ØªØ£Ø«ÙŠØ±Ø§Øª */
  }
  /* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ÙˆØ³Ø· */
  .icon-box{display:flex;justify-content:center;align-items:center}
  .icon-box img{width:100px;height:100px;border-radius:5px;object-fit:cover}
  /* ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª */
  .info-box{
    background:#222;border-radius:8px;padding:10px;margin:10px 0;
    color:#ccc;font-size:13px;
    min-height:10px;display:flex;align-items:center;justify-content:center;
  }
  /* Ù…Ø­ØªÙˆÙ‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù (ÙŠØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„) */
  .info-inner{display:none;width:100%}
  .info-row{display:flex;justify-content:space-between;align-items:center;padding:4px}
  .info-label{color:#aaa;min-width:85px;text-align:right}
  .info-value{color:#fff;flex:1;text-align:left;word-break:break-all}
  /* Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ â€” Ù„Ø§ ØªØºÙŠØ± Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (Ø£Ø®Ø¶Ø±) */
  #downloadBtn{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:8px;
    width:auto;
    padding:12px;
    background:#00FF00;
    color:#000;
    text-align:center;
    font-weight:bold;
    border-radius:8px;
    text-decoration:none;
    font-size:14px;
    transition:.12s;
    cursor:pointer;
    border:0;
  }
  /* Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø²Ø± */
  #downloadBtn.disabled{background:#555;color:#222;pointer-events:none}
  #downloadBtn.error{background:#8B0000;color:#fff;pointer-events:none}
  /* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠØ© â€” Ù…Ø­Ø§Ø°Ø§Ø© ØµØ­ÙŠØ­Ø© */
  .loading-circle{
    width:14px;height:14px;border:2px solid #000;border-top:2px solid lime;border-radius:50%;
    animation:spin 1s linear infinite;display:inline-block;vertical-align:middle;line-height:1;
  }
  @keyframes spin{to{transform:rotate(360deg)}}
  /* Ø§Ù„Ù‚Ø·Ø© Ø§Ù„Ù‚Ø§ÙØ²Ø© (Ø±Ù…Ø² Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ØµÙ„ÙŠ) */
  .loading-cat{font-size:20px;animation:jump .8s ease-in-out infinite;display:inline-block}
  @keyframes jump{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
  /* ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­ Ø§Ù„Ø¹Ù„ÙˆÙŠ Ùˆ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø³ÙÙ„ÙŠØ© */
  #downloadSuggestion{position:fixed;top:0;left:0;right:0;background:#222;color:#ccc;font-size:10px;text-align:center;padding:10px;border-bottom:1px solid #444;z-index:1000;display:none}
  .bottom-notes{position:fixed;bottom:0;left:0;right:0;background:#111;color:#ccc;padding:10px;font-size:9px;border-top:1px solid #333;z-index:999}
  /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¸Ù‡Ø§Ø±/Ø§Ù„Ø¥Ø®ÙØ§Ø¡ */
  .toggle-btn{position:fixed;padding:3px 6px;background:#333;color:#ccc;font-size:10px;border:none;z-index:2000}
  #toggleSuggestionBtn{right:0;top:0}
  #toggleNotesBtn{right:0;bottom:0}
  /* tryAnyway link */
  #tryAnywayLink{display:none;margin-top:8px;text-align:center}
  #tryAnywayLink a{color:#ccc;font-size:12px;text-decoration:underline;cursor:pointer}
</style>
</head>
<body>
  <div id="downloadSuggestion">
    Ø¥Ø°Ø§ ÙƒÙ†Øª Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­ ÙˆÙ„Ø§ ØªÙ…Ù„Ùƒ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù†Ù†ØµØ­Ùƒ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª <br>
    <a href="https://tamaa-pro.github.io/minecraft_bedrock_library/" style="padding:2px 8px;background:#0a0;color:#fff;border-radius:4px;text-decoration:none;margin-right:5px">ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</a>
  </div>

  <button id="toggleSuggestionBtn" class="toggle-btn"><i class="fas fa-chevron-down"></i></button>
  <button id="toggleNotesBtn" class="toggle-btn"><i class="fas fa-chevron-up"></i></button>

  <div class="container" role="main" aria-label="Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„">
    <div class="icon-box"><img src="https://d.top4top.io/p_3585efanh1.jpg" alt="Ø£ÙŠÙ‚ÙˆÙ†Ø©"/></div>

    <div class="info-box" id="infoBox" aria-live="polite">
      <!-- Ù‡Ù†Ø§ Ù†Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø· Ø§Ù„Ù‚Ø§ÙØ² Ù…Ø¤Ù‚ØªØ§Ù‹ -->
      <div id="loadingCatArea"><span class="loading-cat">ğŸˆâ€â¬›</span></div>

      <!-- Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù†ØµØ¨Ø­ Ù†Ø¹Ø±Ø¶ Ù‡Ø°Ù‡ Ø§Ù„Ø¨Ù†ÙŠØ© -->
      <div class="info-inner" id="infoInner">
        <div class="info-row"><div class="info-label">Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù :</div><div class="info-value" id="fileName">â€”</div></div>
        <div class="info-row"><div class="info-label">Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù :</div><div class="info-value" id="fileSize">â€”</div></div>
        <div class="info-row"><div class="info-label">Ù…ØµØ¯Ø± Ø§Ù„Ù…Ù„Ù :</div><div class="info-value" id="fileSource">â€”</div></div>
      </div>
    </div>

    <a id="downloadBtn" href="#" role="button" aria-disabled="false">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù</a>

    <div id="tryAnywayLink">
      <a href="#" id="tryAnywayAnchor">ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø±Ø§Ø¨Ø· Ø¹Ù„Ù‰ Ø£ÙŠ Ø­Ø§Ù„ØŸ</a>
    </div>
  </div>

  <div class="bottom-notes" id="notesBox">
    <b>
      â— Ø¸Ù‡ÙˆØ± Ø®Ø·Ø£ 404 ÙŠØ¹Ù†ÙŠ Ø£Ù† Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…Ù†Ø´ÙˆØ± Ø¨Ø¹Ø¯ Ø£Ùˆ Ø£Ù† Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø®Ø§Ø·Ø¦.<br>
      â— Ø¥Ø°Ø§ Ù„Ù… ÙŠØ³ØªØ¬Ø¨ Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙØ­Ø¯Ù‘Ø« Ø§Ù„ØµÙØ­Ø© Ø£Ùˆ ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø´Ø¨ÙƒØ©.<br>
      â— Ø¥Ø°Ø§ Ø¸Ù‡Ø± Ø£Ù† Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ§Ù„Ø­ ÙÙ‡Ø°Ø§ ÙŠØ¹Ù†ÙŠ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø±Ø§Ø¨Ø· Ù…Ù„Ù.<br>
      â— Ø§Ù„Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù…ØªÙƒØ±Ø± ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù‚Ø¯ ÙŠØ¤Ø¯ÙŠ Ù„ØªÙ„Ù Ø§Ù„Ù…Ù„Ù.<br>
      â— Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ Ø¥ØµØ¯Ø§Ø± Ù…Ø«Ø¨Øª Ù…Ø³Ø¨Ù‚Ø§Ù‹ ÙØ§Ø­Ø°ÙÙ‡ Ù‚Ø¨Ù„ ØªØ«Ø¨ÙŠØª Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©.
    </b>
  </div>

<script>
/* Ø§Ù„Ø¹Ù†Ø§ØµØ± */
const btn = document.getElementById('downloadBtn');
const fileNameEl = document.getElementById('fileName');
const fileSizeEl = document.getElementById('fileSize');
const fileSourceEl = document.getElementById('fileSource');
const infoInner = document.getElementById('infoInner');
const loadingCatArea = document.getElementById('loadingCatArea');
const tryAnywayLinkWrap = document.getElementById('tryAnywayLink');
const tryAnywayAnchor = document.getElementById('tryAnywayAnchor');
const sug = document.getElementById('downloadSuggestion');
const notes = document.getElementById('notesBox');

document.getElementById('toggleSuggestionBtn').onclick = ()=>{sug.style.display = sug.style.display === 'none' ? 'block' : 'none'};
document.getElementById('toggleNotesBtn').onclick = ()=>{notes.style.display = notes.style.display === 'none' ? 'block' : 'none'};
setTimeout(()=>sug.style.display='none',6000);
setTimeout(()=>notes.style.display='none',6000);

/* Ø§Ø³ØªØ®Ø±Ø¬ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù„Ù Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¨Ø¹Ø¯ Ø¹Ù„Ø§Ù…Ø© ? Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
let raw = location.search.replace('?', '');
/* Ø¥Ø°Ø§ Ù„Ù… ÙŠØ­ØªÙˆÙŠ Ø±Ø§Ø¨Ø· ØµØ§Ù„Ø­ ÙŠØ¨Ø¯Ø£ Ø¨ http Ù†Ø¹Ù„Ù‘Ù… Ø£Ù†Ù‡ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù„Ù */
if(!raw || !raw.startsWith('http')){
  /* Ø­Ø§Ù„Ø©: Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ø§Ø¨Ø· Ù…Ù„Ù */
  btn.classList.add('disabled');
  btn.setAttribute('aria-disabled','true');
  fileNameEl.textContent = 'âš ï¸ Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ§Ù„Ø­';
  fileSizeEl.textContent = 'â€”';
  fileSourceEl.textContent = 'â€”';
  infoInner.style.display = 'block';
  loadingCatArea.style.display = 'none';
  tryAnywayLinkWrap.style.display = 'none';
} else {
  /* Ø£Ø²Ù„ Ø§Ù„Ø´Ø±Ø·Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø© Ø¥Ù† ÙˆÙØ¬Ø¯Øª (Ù„Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¹ØªØ§Ø¯Ø©) */
  if(raw.endsWith('/')) raw = raw.slice(0,-1);
  const fileUrl = raw;

  /* Ø¹Ø±Ø¶ Ø§Ø³Ù… (Ù…Ø¨Ø¯Ø¦ÙŠ) Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø§Ù…ØªØ¯Ø§Ø¯ */
  const rawName = fileUrl.split('/').pop() || '';
  const nameNoExt = rawName.replace(/\.[^.]+$/,''); // ÙŠØ²ÙŠÙ„ Ø§Ù„Ø§Ù…ØªØ¯Ø§Ø¯ Ø§Ù„Ø£Ø®ÙŠØ±
  fileNameEl.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø§Ø³Ù…...'; // ÙŠØ¨Ù‚Ù‰ Ù…Ø¤Ù‚ØªØ§Ù‹ Ø­ØªÙ‰ ÙŠØ¯Ø®Ù„ Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ø¹Ø¯ Ø§Ù„Ù‚Ø·
  fileSizeEl.textContent = 'Ø¬Ø§Ø±ÙŠ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø­Ø¬Ù…...';
  fileSourceEl.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ¹Ø±Ù‘Ù...';

  /* Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø· Ø§Ù„Ù‚Ø§ÙØ² Ù„Ù…Ø¯Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø¨ÙŠÙ† 1 Ùˆ 4 Ø«ÙˆØ§Ù†ÙŠ Ø«Ù… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª */
  const delay = Math.floor(1000 + Math.random()*3000);
  setTimeout(() => {
    loadingCatArea.style.display = 'none';
    infoInner.style.display = 'block';
    fileNameEl.textContent = nameNoExt || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
    fileSizeEl.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...';
    /* Ù…ØµØ¯Ø± Ø§Ù„Ù…Ù„Ù: Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø³Ù… Ø§Ù„Ù†Ø·Ø§Ù‚ (Ù…Ø«Ù„ mcpedl Ù…Ù† mcpedl.org) */
    try {
      const host = new URL(fileUrl).hostname;
      const parts = host.split('.');
      let domain = '';
      if(parts.length === 1) domain = parts[0];
      else if(parts.length === 2) domain = parts[0];
      else domain = parts[parts.length-2]; // ÙŠØ¹Ø§Ù„Ø¬ www.example.com -> example
      fileSourceEl.textContent = domain || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
    } catch(e){
      fileSourceEl.textContent = 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
    }

    /* Ø§Ù„Ø¢Ù† ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ù„Ù Ø¹Ø¨Ø± HEAD Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… corsproxy.io */
    (async function checkExists(u){
      try {
        const proxy = 'https://corsproxy.io/?' + encodeURIComponent(u);
        const res = await fetch(proxy, { method: 'HEAD' });
        return res;
      } catch(err){
        return null; // Ù„Ø§ Ø§Ø³ØªØ¬Ø§Ø¨Ø© (Ù…Ø´Ø§ÙƒÙ„ Ø´Ø¨ÙƒØ©)
      }
    })(fileUrl).then(async res => {
      if(res === null){
        /* Ù„Ø§ Ø§Ø³ØªØ¬Ø§Ø¨Ø© â€” Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØªÙŠ Ù†Ø±ÙŠØ¯ Ø¥Ø¸Ù‡Ø§Ø± "ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø±Ø§Ø¨Ø· Ø¹Ù„Ù‰ Ø£ÙŠ Ø­Ø§Ù„" ÙÙ‚Ø· ÙÙŠÙ‡Ø§ */
        btn.classList.remove('error','disabled');
        btn.classList.remove('disabled');
        btn.setAttribute('aria-disabled','false');
        btn.textContent = 'Ø§Ù„ØªØ­Ù‚Ù‚ ÙØ´Ù„ â€” Ø¬Ø±Ø¨ Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ¯ÙˆÙŠØ§Ù‹';
        btn.classList.add('disabled'); // Ù†Ø¶Ø¹ Ø§Ù„Ø²Ø± Ù…Ø¹Ø·Ù„Ø§Ù‹ Ù„ÙƒÙ† Ù†Ø¸Ù‡Ø± Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ¬Ø±Ø¨Ø©
        tryAnywayLinkWrap.style.display = 'block';
        /* Ø±Ø¨Ø· Ø³Ù„ÙˆÙƒ Ø²Ø± Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ù„ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø© */
        tryAnywayAnchor.onclick = (e) => {
          e.preventDefault();
          tryAnywayAnchor.innerHTML = '<span class="loading-circle"></span> Ø¬Ø§Ø±Ù Ø§Ù„ÙØªØ­...';
          setTimeout(()=> location.href = fileUrl, 300);
        };
        fileSizeEl.textContent = 'â€”';
      } else {
        /* Ø­ØµÙ„Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù… */
        if(!res.ok){
          /* 404 Ø£Ùˆ Ø®Ø·Ø£ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù… â€” Ø²Ø± ÙŠØ¸Ù‡Ø± Ø¨Ù„ÙˆÙ† Ø®Ø·Ø£ (Ø£Ø­Ù…Ø±) ÙˆØ¨Ø¯ÙˆÙ† Ø±Ø¨Ø· Ø§Ù„ØªØ¬Ø±Ø¨Ø© */
          btn.classList.remove('disabled');
          btn.classList.add('error');
          btn.setAttribute('aria-disabled','true');
          btn.textContent = 'Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…ØªØ§Ø­';
          tryAnywayLinkWrap.style.display = 'none';
          fileSizeEl.textContent = 'âš ï¸ Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯';
        } else {
          /* Ø§Ù„Ù…Ù„Ù Ù…ÙˆØ¬ÙˆØ¯ â€” Ø§Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø¬Ù… ÙˆÙØ¹Ù‘Ù„ Ø§Ù„Ø²Ø± */
          let size = res.headers.get('content-length');
          if(size){
            const mb = Math.round((size/1024/1024)*10)/10;
            fileSizeEl.textContent = mb + ' MB';
          } else {
            fileSizeEl.textContent = 'ØºÙŠØ± Ù…ØªÙˆÙØ±';
          }
          tryAnywayLinkWrap.style.display = 'none';
          btn.classList.remove('disabled','error');
          btn.setAttribute('aria-disabled','false');
          /* Ø±Ø¨Ø· Ø³Ù„ÙˆÙƒ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ø¹ Ø¯Ø§Ø¦Ø±Ø© ØªØ­Ù…ÙŠÙ„ Ù…Ø­Ø§Ø°ÙŠØ© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ */
          btn.onclick = (e) => {
            e.preventDefault();
            btn.innerHTML = '<span class="loading-circle"></span><span>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„</span>';
            btn.style.background = '#0c0';
            btn.style.color = '#000';
            btn.onclick = null;
            setTimeout(()=> location.href = fileUrl, 350);
          };
          btn.textContent = 'ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù';
        }
      }
    });

  }, delay);
}
</script>
</body>
</html>
