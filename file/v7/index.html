<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ØµÙØ­Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Changa:wght@400;700&display=swap" rel="stylesheet">
<link rel="icon" href="https://k.top4top.io/p_3439brqf60.png" type="image/png">

<script data-goatcounter="https://tamaa-pro.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

<style>
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:#000;font-family:"Changa",sans-serif;user-select:none;touch-action:none}
body{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:15px}
.container{width:100%;max-width:400px;background:#333;padding:10px;border-radius:8px}
.header-title{text-align:center;font-size:20px;color:#fff;margin-bottom:10px}
.content-wrapper{display:flex;gap:10px;width:100%}
.info-box{flex:1;background:#222;border-radius:8px;padding:5px;color:#ccc;font-size:9px;min-height:90px}
.info-inner{display:none;width:100%}
.info-row{display:flex;justify-content:space-between;align-items:center;padding:1px 0}
.info-label{color:#aaa;min-width:30px;text-align:right}
.info-value{color:#fff;flex:1;text-align:left;word-break:break-all}
.loading-cat{font-size:20px;animation:jump .8s ease-in-out infinite}
@keyframes jump{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
#downloadBtn{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;margin-top:15px;padding:12px;background:#00FF00;color:#000;font-weight:bold;border-radius:8px;text-decoration:none;font-size:14px;cursor:pointer;border:0}
.loading-circle{width:14px;height:14px;border:2px solid #000;border-top:2px solid lime;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.bottom-notes{position:fixed;bottom:0;left:0;right:0;background:#111;color:#ccc;padding:5px 30px;border-top:1px solid #333}
</style>
</head>

<body>

<div class="container">
<div class="header-title"><b>ØµÙØ­Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„</b></div>

<div class="content-wrapper">
<div class="info-box">

<div id="loadingCatArea" style="display:flex;justify-content:center;align-items:center;margin-top:20px">
<span class="loading-cat">ğŸˆâ€â¬›</span>
</div>

<div class="info-inner" id="infoInner">
<div class="info-row">
  <div class="info-label">Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù :</div>
  <div class="info-value" id="fileName">--</div>
</div>
<div class="info-row">
  <div class="info-label">Ù†Ø·Ø§Ù‚ Ø§Ù„Ù…Ù„Ù :</div>
  <div class="info-value" id="fileSource">--</div>
</div>
</div>

</div>
</div>

<a id="downloadBtn">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù</a>

</div>

<div class="bottom-notes">
<b style="font-size:8px">
â— Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙŠØªÙ… Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ.<br>
â— ÙÙŠ Ø­Ø§Ù„ ØªÙˆÙ‚Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø£Ø¹Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©.<br>
â— ØªØ£ÙƒØ¯ Ù…Ù† ØªÙˆÙØ± Ù…Ø³Ø§Ø­Ø© ÙƒØ§ÙÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù‡Ø§Ø².
</b>
</div>

<script>
document.addEventListener("contextmenu",e=>e.preventDefault());
document.addEventListener("dragstart",e=>e.preventDefault());

const btn=document.getElementById('downloadBtn');
const fileNameEl=document.getElementById('fileName');
const fileSourceEl=document.getElementById('fileSource');
const infoInner=document.getElementById('infoInner');
const loadingCatArea=document.getElementById('loadingCatArea');

let fileUrl=null;

/* Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ù† session Ø£Ùˆ Ù…Ù† query */
if(sessionStorage.getItem("fileUrl")){
  fileUrl=sessionStorage.getItem("fileUrl");
}
if(!fileUrl){
  const raw=location.search.replace("?","");
  if(raw.startsWith("http")){
    fileUrl=raw;
    sessionStorage.setItem("fileUrl",fileUrl);
    history.replaceState({}, "", location.pathname);
  }
}

/* ÙÙŠ Ø­Ø§Ù„ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø±Ø§Ø¨Ø· */
if(!fileUrl){
  loadingCatArea.style.display='none';
  infoInner.style.display='block';
  fileNameEl.textContent='Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ§Ù„Ø­';
  fileSourceEl.textContent='--';
  btn.style.background='#555';
  btn.textContent='Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ø§Ø¨Ø·';
  btn.onclick=null;
  throw new Error("No file URL");
}

/* ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø±Ø§Ø¨Ø· */
if(fileUrl.endsWith('/')) fileUrl=fileUrl.slice(0,-1);

/* Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù */
const rawName=fileUrl.split('/').pop()||'';
const nameNoExt=rawName.replace(/\.[^.]+$/,'');
fileNameEl.textContent=nameNoExt||'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';

/* Ù…ØµØ¯Ø± Ø§Ù„Ù…Ù„Ù */
try{
  const host=new URL(fileUrl).hostname;
  const parts=host.split('.');
  fileSourceEl.textContent=(parts.length<=2?parts[0]:parts[parts.length-2])||'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
}catch{
  fileSourceEl.textContent='ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
}

/* Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª */
loadingCatArea.style.display='none';
infoInner.style.display='block';

/* Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
btn.onclick=e=>{
  e.preventDefault();
  btn.innerHTML='<span class="loading-circle"></span><span>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„</span>';
  btn.onclick=null;
  setTimeout(()=>location.href=fileUrl,300);
};
</script>

</body>
</html>
